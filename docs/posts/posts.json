[
  {
    "path": "posts/2021-08-14-install-notes/",
    "title": "post_upgrade_notes",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Jim",
        "url": {}
      }
    ],
    "date": "2021-08-14",
    "categories": [],
    "contents": "\nR Update Notes\n\nEach time I update R, I seem to run into trouble with one or more directories that R uses. The reasons probably relate to switching from RStudio to another IDE (neovim) or compiling from source one time and using binaries the next.\nTo sort it out, I found this the Ubuntu/Debian instructions helpful: https://ftp.osuosl.org/pub/cran/bin/linux/debian\nBut first, I had to remove all the old R installations. Then I followed directions for Debian binary installation. In particular, the section https://ftp.osuosl.org/pub/cran/bin/linux/debian explains where the environment variables are set.\nSo here I collect useful R environment variables I found to be important. To ease navigation, I also set shell environment variables (I use zsh ) to match R. Of course, your experience will differ, but getting a good grasp on the R environment variables may avoid some future pain.\n\n\nR_env  <- c(\"R_HOME\", \n            \"R_LIBS_USER\", \n            \"R_LIBS_SITE\",\n            NA,\n            NA) \n\npaths  <- c(\"/usr/lib/R/\",\n            \"/home/jim/R/x86_64-pc-linux-gnu-library/4.1/\",\n            \"/usr/lib/R/library/\",\n            \"/etc/R/Renviron\",\n            \"~/.Renviron\")\n\nzsh_env  <- c(\"R_HOME\", \n            \"R_LIBS_USER\", \n            \"R_LIBS_SITE\",\n            NA,\n            NA)\n\n\n\ndt  <- data.table(R_env = R_env,\n                  path = paths,\n                  zsh_env = zsh_env)\n\n\ndt %>% knitr::kable()\n\n\nR_env\npath\nzsh_env\nR_HOME\n/usr/lib/R/\nR_HOME\nR_LIBS_USER\n/home/jim/R/x86_64-pc-linux-gnu-library/4.1/\nR_LIBS_USER\nR_LIBS_SITE\n/usr/lib/R/library/\nR_LIBS_SITE\nNA\n/etc/R/Renviron\nNA\nNA\n~/.Renviron\nNA\n\nSpecial notes\nEnding slash indicates a directory: /usr/lib/R/library/\nA file has no ending slash: ~/.Renviron\nThe file Renviron in directory /etc/R/ sets many environment variables, including $R_LIBS_SITE, which designates one more directories for packages.\nI modified this to include only one directory: /usr/lib/R/library/\nBecause there are a couple of ways to install R packages (from Debian, from source, from inside R, …) I may decide to modify this later to expand possibily directories for R packages.\n(future) There are other environment variables that may be useful, for example R_ENVIRON, R_ENVIRON_USER but I did not use these.\nHere is one way to confirm which directories R is using for packages.\n\n\n.libPaths()\n\n\n      ## [1] \"/home/jim/R/x86_64-pc-linux-gnu-library/4.1\"\n      ## [2] \"/usr/lib/R/library\"\n\nAnother way is through Sys.getenv() to find R env variables\nR_HOME\nR_LIBS_SITE\nR_LIBS_USER\n\n\ns  <- Sys.getenv()\nnames  <- names(s)\nhead(names)\n\n\n      ## [1] \"_R_CHECK_COMPILATION_FLAGS_KNOWN_\"\n      ## [2] \"API_KEY\"                          \n      ## [3] \"CLICOLOR_FORCE\"                   \n      ## [4] \"DBUS_SESSION_BUS_ADDRESS\"         \n      ## [5] \"DEFAULTS_PATH\"                    \n      ## [6] \"DESKTOP_SESSION\"\n\nhead(s[grep(pattern = \"^R\", x = names)])\n\n\n      ## R_ARCH               \n      ## R_BROWSER            xdg-open\n      ## R_BZIPCMD            /bin/bzip2\n      ## R_DOC_DIR            /usr/share/R/doc\n      ## R_GZIPCMD            /bin/gzip -n\n      ## R_HIST_SIZE          1000\n\ns[grep(pattern = \"^R_LIBS\", x = names)]\n\n\n      ## R_LIBS               \n      ## R_LIBS_SITE          library:/usr/lib/R/library\n      ## R_LIBS_USER          ~/R/x86_64-pc-linux-gnu-library/4.1\n\n\n\nif (F) help(.libPaths)\n\n\n\nTroubleshooting\nR –vanilla\nRunning RStudio requires R be compiled with ….\nOrignal motivation for this particular upgrade was to install RStudio (I normally use neovim + nvim-R plug in) and have not installed RStudio.\nUnfortunately, I did not do this; RStudio’s error msg not too friendly.\nI decided to use R binaries, and so followed this webpage https://ftp.osuosl.org/pub/cran/ and this …. R –vanilla worked, but not R. Problems with where installed R puts things, local, lib etc.\n\n\nknitr::knit_exit()\n\n\n\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-08-15T15:29:55-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-08-16-random-R-notes/",
    "title": "R odds and ends ",
    "description": "R odds & ends",
    "author": [
      {
        "name": "Jim",
        "url": {}
      }
    ],
    "date": "2021-08-14",
    "categories": [],
    "contents": "\nMisc R\nbase R only, collect here\nunlist\ndput\nsave\nNot so keen on else if construct.\n\n\n# ======================\n## if - else if - else\n# ======================\n\nf  <- function(x) {\n  if (x <0) {cat(\"less than 0\")}\n  else if(x<1) {cat(\"less than 1\")}\n  else if(x<2) {cat(\"less than 2\")}\n  else if(x<3) {cat(\"less than 3\")}\n  else if(x<4) {cat(\"less than 4\")}\n  else {cat(\"4 or greater\")}\n}\n\nx <- -1\nf(x)\n\n\n      ## less than 0\n\nf(x <- x+1)\n\n\n      ## less than 1\n\nf(x  <- x+1)\n\n\n      ## less than 2\n\nf(x  <- x+1)\n\n\n      ## less than 3\n\nx\n\n\n      ## [1] 2\n\nBut ifelse(boolean, true , false) is very handy.\n\n\n#  \n# ======================\n##    ifelse\n# ======================\nifelse(5>3, \"yes\", \"no\")\n\n\n      ## [1] \"yes\"\n\nx  <- c(1,5,10)\n# return vector of length(x) and each element 'yes' or 'no'\nifelse(x > 5, \"yes\", \"no\")  # 'no' 'no' 'yes'\n\n\n      ## [1] \"no\"  \"no\"  \"yes\"\n\nswitch\n\n\nx<-2\nx  <- \"B\"\nx  <- 3\nbase::switch(x, \"first\", \n             B = \"second\",\n             C = \"third\"\n)\n\n\n      ## [1] \"third\"\n\nchoose  <- function(x) {\n\n    base::switch(x, \"first\", \n             B = \"second\",\n             C = \"third\",\n             x\n)\n\n}\n\nx  <- 3\nx <- 100\nchoose(x)\n\n\n\nin named vector, names are attributes\n\n\n# ----------------------\n## create named vector\n# ----------------------\n    x  <- 1:5\n    # [1] 1 2 3 4 5\n\n    names(x)  <- letters[1:5]\n    x\n\n\n      ## a b c d e \n      ## 1 2 3 4 5\n\n    # a b c d e \n    # 1 2 3 4 5 \n\n    attributes(x)\n\n\n      ## $names\n      ## [1] \"a\" \"b\" \"c\" \"d\" \"e\"\n\n# ----------------------------------------\n## now, remove the names: couple of ways\n# ----------------------------------------\n\n  x.1  <- unname(x)\n# [1] 1 2 3 4 5\n\n\n## another way to remove names\n  x.2  <- x\n  names(x.2)  <- NULL\n  x.2\n\n\n      ## [1] 1 2 3 4 5\n\n# [1] 1 2 3 4 5\n\n## also\n  x.3  <- as.numeric(x)\n# [1] 1 2 3 4 5\n\n\n\nexpand relative file name\n\n\nfile <- \"BASE/0296_base_R_misc.Rmd\"\nnormalizePath(file)\n\n\n      ## [1] \"BASE/0296_base_R_misc.Rmd\"\n\npath.expand(file)\n\n\n      ## [1] \"BASE/0296_base_R_misc.Rmd\"\n\npath.expand(\"~\")\n\n\n      ## [1] \"/home/jim\"\n\n\n```{.r .distill-force-highlighting-css}\n\n\n\n",
    "preview": {},
    "last_modified": "2021-08-16T00:21:10-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-07-29-postthree/",
    "title": "post_THREE",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Jim",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-07-29",
    "categories": [],
    "contents": "\npost_THREE\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-07-29T15:25:20-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-07-29-posttwo/",
    "title": "R users",
    "description": "!so [r] users who write so well !",
    "author": [
      {
        "name": "Jim",
        "url": {}
      }
    ],
    "date": "2021-07-29",
    "categories": [],
    "contents": "\nStackoverflow users.\nStackoverflow Users\nhttps://stackoverflow.com/users/3732271/akrun\nhttps://stackoverflow.com/users/134830/richie-cotton\nhttps://stackoverflow.com/users/712603/david-robinson\nStackoverflow Tags\nhttps://stackoverflow.com/questions/tagged/r+regex\nhttps://stackoverflow.com/questions/tagged/r+data.table\nhttps://math.stackexchange.com/questions/tagged/linear-algebra?tab=Votes\nhttps://stats.stackexchange.com/questions/tagged/regression?tab=Votes\nzsh: https://unix.stackexchange.com/questions/tagged/zsh?tab=Votes\nVideo Collections\nNY: https://www.youtube.com/playlist?list=PLlzRFZmxVl9QqpFSfkv6JdYrg29xFwxRt\nBlogs\nDavid Robinson: http://varianceexplained.org/\nRafa Irizarry, Roger Peng, and Jeff Leek https://simplystatistics.org/\nRStudio: https://blog.rstudio.com/\nLearning Machines: entertaining: https://blog.ephorie.de/\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-08-16T00:26:49-07:00",
    "input_file": {}
  },
  {
    "path": "posts/post_ONE/",
    "title": "Welcome to blog5",
    "description": "Welcome to our new blog, blog5. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Jim",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-07-29",
    "categories": [],
    "contents": "\npost_ONE\n\n\n\n",
    "preview": {},
    "last_modified": "2021-07-29T15:08:20-07:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to blog5",
    "description": "Welcome to our new blog, blog5. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Jim",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-07-29",
    "categories": [],
    "contents": "\n\n\n\n",
    "preview": {},
    "last_modified": "2021-07-29T15:28:28-07:00",
    "input_file": {}
  }
]
